サポート〜自動テスト実装

自動テストを実装するためにサポートしてください。

全体の工程を示します。

1. 事前知識獲得
2. LiveView表示の自動テスト
3. LiveView操作の自動テスト
4. 操作やイベントに対応する関数の自動テスト

実装前に自動テストをかくTDDを、実装はインターフェスとなる処理のみで、先に仕上げるというタスクになります。

難易度が高いので、ぜひ才能を発揮してください。
Happy programming!

## 1. 事前知識獲得

CLAUDE.local.md には、今回自動テストを作成する対象となる「いまのタスク」の記載があるため確認する。

CLAUDE.local.mdにある「モノとCRUD」を参考に、自動テストを実装する。

CLAUDE.md あるいは CLAUDE.local.md における自動テストに関する記述を遵守すること。

LiveViewテストは、基本パターン(c0)の自動テストを目安とする。コンテキスト関数テストは、各パターン(c1)の自動テストを目安とする。重要な判定となる条件分岐が想定される場合は、別途関数化するなどし、c1でカバーする範囲を増やす。

*重要* 自動テスト結果は失敗で良いが、実行エラーは許容しない。実行エラーが出る場合は、基本的な実装（ルーティング含む）、インターフェースの実装を行う。同時に、擬似コードでもよいので、開発者には想定している仮実装状態で渡すこと

## 2. LiveView表示の自動テスト

自動テスト中でDOMのIDが必要になるが、想定で記述して問題ない。

## 3. LiveView操作の自動テスト

画面定義に基づいて、操作によって起こることの自動テストを実装する。

## 4. 操作やイベントに対応する関数の自動テスト

操作と1:1対応する関数を適当なコンテキストに作る前提で自動テストを実装する。関数が複雑あるいは巨大になる見込みがあれば、関数を分離し、その想定の関数の自動テストも用意する。


